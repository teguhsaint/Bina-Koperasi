<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Blank</title>

    <!-- Bootstrap -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <!-- Bootstrap Icon - short-cut(bina-bsicon) -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css"
    />

    <!-- Datatable -->
    <link
      rel="stylesheet"
      type="text/css"
      href="https://cdn.datatables.net/v/bs5/dt-1.13.1/r-2.4.0/datatables.min.css"
    />
    <!-- Select2 -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/css/select2.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/select2-bootstrap-5-theme@1.3.0/dist/select2-bootstrap-5-theme.min.css"
    />
    <!-- JQUERY -->
    <script
      src="https://code.jquery.com/jquery-3.6.3.min.js"
      integrity="sha256-pvPw+upLPUjgMXY0G+8O0xUf+/Im1MZjXxxgOcBQBXU="
      crossorigin="anonymous"
    ></script>
    <!-- Datatable -->
    <script
      type="text/javascript"
      src="https://cdn.datatables.net/v/bs5/dt-1.13.1/r-2.4.0/datatables.min.js"
    ></script>
    <!-- Sweet Alert2 -->
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- Select2 -->
    <script src="https://cdn.jsdelivr.net/npm/select2@4.0.13/dist/js/select2.full.min.js"></script>
  </head>

  <body>
    <form action="" id="form-anggota">
      <div class="mb-3">
        <label class="control-label">Pilih AO</label
        ><select class="form-control" name="agt_kode"
          ><option value="AO001">Alice Johnson</option
          ><option value="AO002">Bob Anderson</option></select
        >
      </div>
      <div class="mb-3">
        <label class="form-label">nama</label
        ><input
          type="text"
          name="agt_nama"
          placeholder=""
          class="form-control"
          required
        />
      </div>
      <div class="mb-3">
        <label class="control-label">NIk</label
        ><input
          type="number"
          name="agt_nik"
          placeholder="nik"
          class="form-control"
          required
        />
      </div>
      <div class="mb-3">
        <label class="form-label">alamat</label
        ><input
          type="text"
          name="agt_alamat"
          placeholder=""
          class="form-control"
          required
        />
      </div>
      <div class="mb-3">
        <label class="control-label">no hp</label
        ><input
          type="number"
          name="agt_nohp"
          placeholder="hp"
          class="form-control"
          required
        />
      </div>
      <input type="file" id="fileInput" name="agt_ktp" />
      <button id="uploadButton">Unggah</button>
      <div id="status"></div>
      <button type="submit">Submit</button>
    </form>

    <script>
      $("#form-anggota").submit(function (e) {
        e.preventDefault();

        var data = new FormData(this);
        var fileInput = $("#fileInput").get(0);
        var file = fileInput.files[0];
        console.log(file);
        data.append("file", file);
        // console.log(data);
        $.ajax({
          url: "upload.php", // Ganti dengan URL tempat Anda menangani unggahan file
          type: "POST",
          data: data,
          contentType: JSON,
          contentType: false, // Biarkan jQuery menentukan ContentType-nya untuk FormData
          processData: false,
          success: function (response) {
            console.log("Berhasil: " + response);
          },
          error: function (jqXHR, textStatus, errorMessage) {
            console.log("Gagal: " + errorMessage);
          },
        });
      });
    </script>

    <!-- Bootstrap -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>

    <!-- <script> 
 $$('#select-field').select2({ 
 theme: 'bootstrap-5' 
 }); 
 </script> -->
  </body>
</html>
